@model WorkRequestInput.Models.WorkRequestInput.WorkRequestViewModel
@{
    ViewData["Title"] = "WorkRequestInput";
}
<script src="~/js/star-rating.min.js"></script>
<link href="~/css/star-rating.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.5.0/css/bootstrap4-toggle.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.5.0/js/bootstrap4-toggle.min.js"></script>
@*<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.js"></script>*@

<style>
    .toggle {
        width: 100px !important;
    }

    .avatar {
        vertical-align: middle;
        width: 50px;
        height: 50px;
        border-radius: 50%;
    }

    .modal-header .close {
        margin: -1rem -1rem 0 0 !important;
    }

    /*.fa-star {
        color: gold;
    }*/

    .table {
        border-collapse: collapse;
        border-spacing: 0px;
    }

    tr {
    }


    tr:hover {
        background-color: #f5f5f5;
    }

    .trLow {
        /*border-style: solid;
        border-width: 2px;
        border-color: forestgreen;*/
    }

        .trLow i {
            color: green;
        }

    .trMedium {
        border-style: solid;
        border-width: 2px;
        border-color: gold;
    }

        .trMedium i {
            color: gold;
        }

    .trHigh {
        border-style: solid;
        border-width: 2px;
        border-color: red;
    }

        .trHigh i {
            color: red;
        }

    .starrating > input {
        display: none;
    }
    /* Remove radio buttons */

    .starrating > label:before {
        content: "\f005"; /* Star */
        margin: 2px;
        font-size: 2em;
        /*font-family: FontAwesome;*/
        font-family: 'Font Awesome\ 5 Free';
        font-weight: 900;
        display: inline-block;
    }

    .starrating > label {
        color: #222222; /* Start color when not clicked */
    }
    /*//~ 選擇該元素之後的兄弟元素*/
    .starrating > input:checked ~ label[class=green] {
        color: forestgreen;
    }

    .starrating > input:checked ~ label[class=yellow] {
        color: gold;
    }

    .starrating > input:checked ~ label[class=red] {
        color: red;
    }
    /* Set yellow color when star checked */

    /*.starrating > input:hover ~ label {
        color: #ffca08;
    }*/
    .starrating > input:hover ~ label[class=green] {
        color: forestgreen;
    }

    .starrating > input:hover ~ label[class=yellow] {
        color: gold;
    }

    .starrating > input:hover ~ label[class=red] {
        color: red;
    }
    /* Set yellow color when star hover */

</style>
<link href="~/lib/bootstrap-datepicker-1.9.0-dist/css/bootstrap-datepicker.css" rel="stylesheet" />
<script src="~/lib/bootstrap-datepicker-1.9.0-dist/js/bootstrap-datepicker.js"></script>
<h2 class="text-center">Work Request Input</h2>
@*<partial name="~/Views/WorkRequestInput/Partial/_testView.cshtml" />*@


    <div class="row justify-content-center">
        <div class="col-md-12">
            <table class="table ">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Date<i class="fa fa-sort ml-1"></i></th>
                        <th scope="col">Project ID<i class="fa fa-sort ml-1"></i></th>
                        <th scope="col">Task Name<i class="fa fa-sort ml-1"></i></th>
                        <th scope="col">Deadline<i class="fa fa-sort-down ml-1"></i></th>
                        <th scope="col">Priority<i class="fa fa-sort ml-1"></i></th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="trHigh">
                        <th scope="row">1</th>
                        <td>2019-09-01</td>
                        <td>001</td>
                        <td>Engine Failed</td>
                        <td>2019-09-02</td>
                        <td><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></td>
                    </tr>
                    <tr class="trHigh">
                        <th scope="row">2</th>
                        <td>2019-09-01</td>
                        <td>002</td>
                        <td>Passenger Seats Stains</td>
                        <td>2019-09-03</td>
                        <td><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></td>
                    </tr>
                    <tr class="trMedium">
                        <th scope="row">3</th>
                        <td>2019-09-01</td>
                        <td>003</td>
                        <td>Oil Change</td>
                        <td>2019-09-07</td>
                        <td><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></td>
                    </tr>
                    <tr class="trMedium">
                        <th scope="row">4</th>
                        <td>2019-09-02</td>
                        <td>004</td>
                        <td>Propeller Broken</td>
                        <td>2019-09-08</td>
                        <td><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></td>
                    </tr>
                    <tr class="trLow">
                        <th scope="row">5</th>
                        <td>2019-09-03</td>
                        <td>005</td>
                        <td>ECU Malfunction</td>
                        <td>2019-09-05</td>
                        <td><i class="fa fa-star"></i></td>
                    </tr>
                    <tr class="trLow">
                        <th scope="row">6</th>
                        <td>2019-09-01</td>
                        <td>006</td>
                        <td>Engine Failed</td>
                        <td>2019-09-30</td>
                        <td></td>
                    </tr>
                    <tr class="trHigh">
                        <th scope="row">7</th>
                        <td>2019-09-01</td>
                        <td>007</td>
                        <td>Engine Failed</td>
                        <td>2019-09-02</td>
                        <td><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></td>
                    </tr>

                </tbody>
            </table>
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-end">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <div class="row">
        <button class="btn btn-primary ml-4" onclick="CreateModalToggle()">Create</button>
    </div>
    <!-- The Create Modal -->
    <div class="modal fade" id="CreateModal">
        <div class="modal-dialog ">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Create New Work Request</h4>
                    <img src="~/res/avatar/avatar2.png" alt="Avatar" class="avatar ml-auto">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">

                        <div class="col-12">

                            <form method="post">
                                <div asp-validation-summary="All" class="text-danger"></div>
                                <div class="form-group">
                                    <i class="fa fa-calendar-alt"></i>
                                    <label asp-for="WRI.CreateDate" class="control-label"></label>
                                    <input asp-for="WRI.CreateDate" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-ddThh:mm")" readonly />
                                    <span asp-validation-for="WRI.CreateDate" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <i class="fa fa-project-diagram"></i>
                                    <label asp-for="WRI.ProjectName" class="control-label"></label>
                                    <input asp-for="WRI.ProjectName" class="form-control" value="" />
                                    <span asp-validation-for="WRI.ProjectName" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <i class="fa fa-tachometer-alt"></i>

                                    <label asp-for="WRI.PriorityType" class="control-label"></label>
                                    @*<input asp-for="PriorityType" class="form-control" value="" />*@
                                    <div class="starrating risingstar d-flex justify-content-center flex-row-reverse">
                                        <input type="radio" id="star5" name="rating" value="5" /><label for="star5" class="red">5</label>
                                        <input type="radio" id="star4" name="rating" value="4" /><label for="star4" class="yellow">4</label>
                                        <input type="radio" id="star3" name="rating" value="3" /><label for="star3" class="yellow">3</label>
                                        <input type="radio" id="star2" name="rating" value="2" /><label for="star2" class="green">2</label>
                                        <input type="radio" id="star1" name="rating" value="1" /><label for="star1" class="green">1</label>
                                    </div>
                                    <span asp-validation-for="WRI.PriorityType" class="text-danger"></span>

                                </div>
                                <div class="form-group">
                                    <i class="fa fa-tasks"></i>
                                    <label asp-for="WRI.TaskName" class="control-label"></label>
                                    <input asp-for="WRI.TaskName" class="form-control" value="" />
                                    <span asp-validation-for="WRI.TaskName" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <i class="fa fa-comment-alt"></i>
                                    <label asp-for="WRI.TaskDescription" class="control-label">Task Description</label>
                                    <textarea asp-for="WRI.TaskDescription" class="form-control textarea" rows="2" value=""></textarea>
                                    <span asp-validation-for="WRI.TaskDescription" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <i class="fa fa-business-time"></i>
                                    <label asp-for="WRI.Deadline" class="control-label">Deadline</label>
                                    <input asp-for="WRI.Deadline" width="276" value="" />
                                    <span asp-validation-for="WRI.Deadline" class="text-danger"></span>
                                </div>
                                <div class="form-group ">
                                    <i class="fa fa-toggle-on"></i>
                                    <label asp-for="WRI.enabled" class="control-label font-weight-bold"></label><br />
                                    <input asp-for="WRI.enabled" type="checkbox" checked data-toggle="toggle" data-on="Enable" data-off="Disable" data-onstyle="success" data-size="xl" />
                                    <span asp-validation-for="WRI.enabled" class="text-danger"></span>
                                </div>
                                <div class="row justify-content-center">
                                    <button type="submit" class="btn btn-lg btn-primary">Save</button>
                                </div>

                            </form>

                        </div>
                       
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">

                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>

            </div>

        </div>


    </div>

    <!-- The Detail Modal -->
    <div class="modal fade" id="DetailModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Work Request Detail</h4>
                    <img src="~/res/avatar/avatar2.png" alt="Avatar" class="avatar ml-auto">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                

                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="row">@*</div>*@
                        <div class="col-sm-12 col-md-9">

                            <div asp-validation-summary="All" class="text-danger"></div>
                            <div class="form-group">
                                <i class="fa fa-calendar-alt"></i>
                                <label asp-for="WRI.CreateDate" class="control-label"></label>
                                <input class="form-control" value="2019-09-01" readonly />
                                <span asp-validation-for="WRI.CreateDate" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <i class="fa fa-project-diagram"></i>
                                <label asp-for="WRI.ProjectName" class="control-label"></label>
                                <input asp-for="WRI.ProjectName" class="form-control" value="Propeller Broken" />
                                <span asp-validation-for="WRI.ProjectName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <i class="fa fa-tachometer-alt"></i>

                                <label asp-for="WRI.PriorityType" class="control-label"></label>
                                @*<input asp-for="PriorityType" class="form-control" value="" />*@
                                <div class="starrating risingstar d-flex justify-content-center flex-row-reverse">
                                    <input type="radio" id="star5" name="rating" value="5" /><label for="star5" class="red">5</label>
                                    <input type="radio" id="star4" name="rating" value="4" /><label for="star4" class="yellow">4</label>
                                    <input type="radio" id="star3" name="rating" value="3" checked /><label for="star3" class="yellow">3</label>
                                    <input type="radio" id="star2" name="rating" value="2" /><label for="star2" class="green">2</label>
                                    <input type="radio" id="star1" name="rating" value="1" /><label for="star1" class="green">1</label>
                                </div>
                                <span asp-validation-for="WRI.PriorityType" class="text-danger"></span>

                            </div>
                            <div class="form-group">
                                <i class="fa fa-tasks"></i>
                                <label asp-for="WRI.TaskName" class="control-label"></label>
                                <input asp-for="WRI.TaskName" class="form-control" value="Propeller Broken" />
                                <span asp-validation-for="WRI.TaskName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <i class="fa fa-comment-alt"></i>
                                <label asp-for="WRI.TaskDescription" class="control-label">Task Description</label>
                                <textarea class="form-control textarea" rows="5">Someting broken.</textarea>
                                <span asp-validation-for="WRI.TaskDescription" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <i class="fa fa-business-time"></i>
                                <label asp-for="WRI.Deadline" class="control-label">Deadline</label>
                                <input asp-for="WRI.Deadline" width="276" value="2019-09-15" />
                                <span asp-validation-for="WRI.Deadline" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-3">
                            @*<h2 class="text-center ">Create New Card</h2>*@
                            <div class="row ">
                                <button class="btn btn-outline-primary mb-2 ml-3" onclick="AddCardModalToggle()">Add Card</button>
                            </div>

                            <div class="card ">
                                <div class=" card-header bg-secondary text-white">Card List</div>
                                <div class="card-body " style="padding:5px 5px 5px 5px ">
                                    <div class="card mb-2">

                                        <div class="card-body"><span class="badge badge-danger">Top</span><br />Jason, Please notice this task. And group your team to handle it.</div>
                                    </div>
                                    @for (int i = 0; i < 4; i++) {

                                            <div class="card mb-2">

                                                <div class="card-body"><span class="badge badge-primary">New</span><br />Content</div>
                                            </div>
                                        
                                    }

                                </div>
                            </div>


                        </div>

                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button  class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>
               
            </div>

        </div>


    </div>

    <!-- The Add Card Modal -->
    <div class="modal fade" id="AddCardModal">
        <div class="modal-dialog modal-md">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Add New Card</h4>
                    <img src="~/res/avatar/avatar2.png" alt="Avatar" class="avatar ml-auto">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">

                        <div class="col-sm-12">

                            <form >
                                <div asp-validation-summary="All" class="text-danger"></div>
                                <div class="form-group">
                                    <i class="fa fa-calendar-alt"></i>
                                    <label asp-for="WRICard.CreateTime" class="control-label"></label>
                                    <input asp-for="WRICard.CreateTime" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-ddThh:mm")" readonly />
                                    <span asp-validation-for="WRICard.CreateTime" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <i class="fa fa-project-diagram"></i>
                                    <label asp-for="WRICard.TaskRequestTitles" class="control-label"></label>
                                    <input asp-for="WRICard.TaskRequestTitles" class="form-control" value="" />
                                    <span asp-validation-for="WRICard.TaskRequestTitles" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <i class="fa fa-project-diagram"></i>
                                    <label asp-for="WRICard.Department" class="control-label"></label>
                                    <select asp-for="WRICard.Department" class="form-control">
                                        <option>Select Department</option>
                                        @foreach (var item in Model.WRICard.Departments) {
                                            <option value="@item.id">@item.name</option>
                                        }
                                    </select>
                                    <span asp-validation-for="WRICard.Department" class="text-danger"></span>
                                </div>
                                <div class="form-group">
                                    <i class="fa fa-tasks"></i>
                                    <label asp-for="WRICard.AssignedToID" class="control-label"></label>
                                    <select asp-for="WRICard.AssignedToID" class="form-control dropdownlist" value="">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                    </select>
                                    <span asp-validation-for="WRICard.AssignedToID" class="text-danger"></span>
                                </div>

                                <div class="form-group ">
                                    <i class="fa fa-toggle-on"></i>
                                    <label asp-for="WRICard.Completed" class="control-label font-weight-bold"></label><br />
                                    <input asp-for="WRICard.Completed" type="checkbox" data-toggle="toggle" data-on="Yes" data-off="No" data-onstyle="success" data-size="xl" />
                                    <span asp-validation-for="WRICard.Completed" class="text-danger"></span>
                                </div>
                                <div class="row justify-content-center">
                                    <button class="btn btn-lg btn-primary">Save</button>
                                </div>

                            </form>
                        </div>

                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">

                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>

            </div>

        </div>


    </div>
</div>


<script>
    //$('#datepicker').datepicker();
    $('tr').click(function () {
        //alert();
        $('#DetailModal').modal('show');
        // DO Something

    })

    function CreateModalToggle() {
        $('#CreateModal').modal('show');
        //$('label').css('color', 'black');
    }

    function AddCardModalToggle() {
        $('#AddCardModal').modal('show');
        //$('label').css('color', 'black');
    }


</script>